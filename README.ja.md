# 🎱 ビリヤード・フロントエンド

React + TypeScript + Material-UIで構築されたモダンなビリヤードスコア管理アプリケーション

[🌐 English README](README.md)

## 🌐 ライブデモ

🚀 **[今すぐ試す！](https://billiard-frontend.onrender.com)**

## 🚀 主な機能

### ゲームの種類
- **セットマッチ**: シンプルなセット数計算ゲーム（目標セット数に最初に到達した方の勝利）
- **ローテーション**: ボール番号がポイントに等しく、特定のスコアを目標に勝利（120、180、240ポイント）
- **ボーラード**: ビリヤードボールを使ったボウリング風ゲーム（10フレーム、ストライクとスペアあり）
- **ジャパンルール (ベータ版)**: プレイヤー順序ローテーション機能付きマルチプレイヤーハンディキャップゲーム
  - 2-10プレイヤー対応、カスタマイズ可能なハンディキャップボール（デフォルト: 5, 9）
  - 戦略的スコアリング用ポイント倍率システム（1倍～100倍）
  - 詳細履歴追跡付き複数ラック累計スコアリング
  - 設定可能なラック数での自動プレイヤー順序ローテーション（デフォルト: 10ラック）
  - クロスラック対応の高度な取り消し機能
  - ラック別詳細表示付きリアルタイム累計ポイント表

### コア機能
- 👥 **マルチプレイヤーゲーム**: ジャパンルールは2-10プレイヤー、その他は2プレイヤー対戦
- 🎯 **リアルタイムスコアリング**: ゲーム中のライブスコア更新
- 🔄 **取り消し機能**: 誤って入力したスコアの修正
- ⏰ **チェスクロック**: 個別プレイヤータイマーと警告アラート付きオプション時間管理
- 🔄 **プレイヤー入れ替え**: ゲーム中のプレイヤー位置変更
- 🎲 **交互ブレイク**: フェアプレイのためのオプション交互ブレイクショット
- 🏆 **勝利画面**: ゲーム統計付き勝利セレブレーション
- 📊 **ゲーム履歴**: 過去のゲーム結果表示
- 🌍 **国際化対応**: 日本語/英語言語サポート
- 📱 **レスポンシブデザイン**: モバイル、タブレット、デスクトップ対応
- 🎨 **本格的なボールデザイン**: リアルなビリヤードボールの色とスタイリング

## 🛠️ 技術スタック

- **フロントエンド**: React 18 + TypeScript
- **UIライブラリ**: Material-UI (MUI) ディープブルーテーマ
- **ビルドツール**: Vite
- **状態管理**: React Hooks + Context API
- **チャート**: Chart.js + react-chartjs-2
- **国際化**: カスタムi18nコンテキスト
- **テスト**: Vitest + React Testing Library (380+テスト、90%+カバレッジ)
- **デプロイメント**: Render (静的サイト)

## 📦 インストール・セットアップ

### 前提条件
- Node.js (v18以上)
- npm

### ローカル開発
```bash
# リポジトリをクローン
git clone https://github.com/sgwrysk/billiard-frontend.git
cd billiard-frontend

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev

# テストを実行
npm test

# プロダクション用ビルド
npm run build

# プロダクションビルドをプレビュー
npm run preview
```

## 🧪 テスト

### テストフレームワーク
- **Vitest**: 高速でモダンなテストランナー
- **React Testing Library**: コンポーネントテストユーティリティ
- **@testing-library/jest-dom**: 追加マッチャー

### カバレッジ
- **380+テスト**: 包括的なテストスイート
- **90%+カバレッジ**: コンポーネント、フック、ユーティリティ全体での高いコードカバレッジ
- **コンポーネントテスト**: すべてのUIコンポーネントを徹底テスト
- **ユーティリティテスト**: ユーティリティ関数の完全カバレッジ
- **統合テスト**: ゲームフローとユーザーインタラクションテスト

### テスト実行
```bash
# 全テスト実行
npm test

# ウォッチモードでテスト実行
npm run test:watch

# UIモードでテスト実行
npm run test:ui

# カバレッジ付きテスト実行
npm test -- --coverage
```

## 🎮 使い方

### 1. ゲームセットアップ
1. ゲームタイプを選択（セットマッチ、ローテーション、ボーラード、またはジャパンルール）
2. プレイヤー名を入力（ジャパンルールは2-10プレイヤー、その他は2プレイヤー）
3. 目標を設定（セットマッチはセット数、ローテーションはポイント数、ボーラードはフレーム数）
4. ジャパンルール: ハンディキャップボールとプレイヤー順序ローテーション間隔を設定
5. 一般的な目標用のプリセットボタンを使用
6. 時間制限と警告付きオプションチェスクロックを設定
7. セットマッチの交互ブレイクを有効化（オプション）
8. 「ゲーム開始」をクリック

### 2. ジャパンルールゲームプレイ
1. ハンディキャップボール番号をクリックしてポイント獲得（設定可能、デフォルト: 5, 9）
2. 倍率入力を使用して戦略的ポイント倍率を適用（1倍～100倍）
3. 「次ラックへ」をクリックして現在のラックを完了し次のラックに進む
4. 設定された間隔に基づいてプレイヤー順序が自動的にローテーション
5. 完了した全ラックの累計ポイントを表示
6. 高度な取り消し機能でクロスラック修正に対応
7. 手動終了まで無期限にゲーム継続

### 3. 勝利画面
- ゲーム統計と勝者を表示
- スコア進行グラフ（ローテーション）またはセット履歴テーブル（セットマッチ）を表示
- 最終残り時間を表示（チェスクロック使用時）
- 同じ設定での再戦を提供
- プレイヤーごとの累積勝利数を追跡

## 🔧 カスタマイズ

### ゲームタイプの追加
`src/types/index.ts`を拡張し、`src/hooks/useGame.ts`でロジックを実装

### UIテーマカスタマイズ
`src/App.tsx`でMaterial-UIテーマを変更

### 国際化
`src/contexts/LanguageContext.tsx`で翻訳を追加

### コードコメントルール
国際的な開発者との協力とコードの一貫性を保つため、すべてのコード内コメントは**英語のみ**で記述する必要があります。

## 📄 ライセンス

MIT License

## 🤝 コントリビューション

バグレポートと機能リクエストを歓迎します！GitHub Issuesをご利用ください。

### 開発ガイドライン
- **コードコメント**: すべてのコード内コメントは**英語のみ**で記述
- **コミットメッセージ**: すべてのコミットメッセージは**英語のみ**で記述
- **テスト**: 90%以上のテストカバレッジを包括的なテストスイートで維持

---

🎱 **ビリヤードをお楽しみください！**